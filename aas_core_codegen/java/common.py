"""Provide common functions shared among different Java code generation modules."""
import re
from typing import cast

from icontract import require

from aas_core_codegen.common import Stripped


INDENT = "  "
INDENT2 = INDENT * 2
INDENT3 = INDENT * 3
INDENT4 = INDENT * 4
INDENT5 = INDENT * 5
INDENT6 = INDENT * 6


# noinspection RegExpSimplifiable
PACKAGE_IDENTIFIER_RE = re.compile(
    r"[a-z][a-z_0-9]*(\.[a-z][a-z_0-9]*)*"
)


class PackageIdentifier(str):
    """Capture a package identifier."""

    @require(lambda identifier: PACKAGE_IDENTIFIER_RE.fullmatch(identifier))
    def __new__(cls, identifier: str) -> "PackageIdentifier":
        return cast(PackageIdentifier, identifier)


WARNING = Stripped(
    """\
/*
 * This code has been automatically generated by aas-core-codegen.
 * Do NOT edit or append.
 */"""
)
